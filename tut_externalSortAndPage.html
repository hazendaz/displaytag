<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0 from src/site/markdown/tut_externalSortAndPage.md at 02-14-2026 05:09
 | Rendered using Apache Maven Fluido Skin 2.1.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0" />
    <title>External Paging and Sorting – displaytag-doc</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.1.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-2.1.0.min.js"></script>
<link href="../css/site.css" rel="stylesheet" />
  </head>
  <body>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1><a href="https://github.com/hazendaz/displaytag/">displaytag</a></h1></div></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li class="pull-right"><a href="https://central.sonatype.com/artifact/com.github.hazendaz/displaytag/versions">Download</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Reference</li>
    <li><a href="index.html">About</a></li>
    <li><a href="install.html">Install</a></li>
    <li><a href="tlds.html">Tlds</a></li>
    <li><a href="displaytag/tagreference.html">Tag reference</a></li>
    <li><a href="configuration.html">Configuration</a></li>
    <li><a href="export_filter.html">Export filter</a></li>
    <li><a href="migrating.html">Migrating from 1.x</a></li>
    <li><a href="faq.html">FAQ</a></li>
    <li><a href="portlet.html">Jsr-168 Portlet support</a></li>
   <li class="nav-header">Tutorial</li>
    <li><a href="tut_basic.html">Basic usage</a></li>
    <li><a href="tut_implicitobjects.html">Implicit objects</a></li>
    <li><a href="tut_sources.html">Data sources</a></li>
    <li><a href="tut_decorators.html">Decorators</a></li>
    <li><a href="tut_links.html">Links</a></li>
    <li><a href="tut_style.html">Style</a></li>
    <li><a href="export.html">Export</a></li>
    <li><a href="i18n.html">I18n</a></li>
    <li class="active"><a>External paging/sorting</a></li>
   <li class="nav-header">Project Info</li>
    <li><a href="dependencies.html">Dependencies</a></li>
    <li><a href="issue-tracking.html">Issue Tracking</a></li>
    <li><a href="mail-lists.html">Mailing Lists</a></li>
    <li><a href="license.html">Project License</a></li>
    <li><a href="team-list.html">Project Team</a></li>
    <li><a href="source-repository.html">Source Repository</a></li>
   <li class="nav-header">Developers</li>
    <li><a href="coding_conventions.html">Coding Conventions</a></li>
    <li><a href="source-repository.html">Source repository</a></li>
   <li class="nav-header">Project Reports</li>
    <li><a href="displaytag/tagreference.html">Tag reference</a></li>
    <li><a href="displaytag/tlddoc/index.html">Taglibdoc documentation</a></li>
    <li><a href="changes-report.html">Changes Report</a></li>
    <li><a href="displaytag/dependencies.html">Dependencies</a></li>
    <li><a href="displaytag/apidocs/index.html">Javadoc</a></li>
    <li><a href="displaytag/pmd.html">PMD</a></li>
    <li><a href="displaytag/clover/index.html">Clover</a></li>
    <li><a href="displaytag/surefire-report.html">Maven Surefire Report</a></li>
    <li><a href="displaytag/xref/index.html">Source Xref</a></li>
    <li><a href="displaytag/xref-text/index.html">Test Xref</a></li>
    <li><a href="displaytag/jdepend-report.html">JDepend Report</a></li>
    <li><a href="displaytag/taglibvalidation.html">Tag library validation</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://maven.apache.org/" class="builtBy" target="_blank"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">
<section><section><a id="External_Paging_and_Sorting"></a>
<h2>External Paging and Sorting</h2>
<p>The default behavior of displaytag is working with a full list, handling
sorting and paging trasparently. Sometimes, however, you could need to
give displaytag only the records displayed, handling sorting and paging
by yourself (this is what we call &#x201c;partial list support&#x201d;).</p>
<p>Displaytag 1.1 offers two alternative ways for working with partial
lists:</p>
<ul>

<li>the first one uses the valuelist pattern, and requires that the
object that you give to displaytag implements the
<code>org.displaytag.pagination.PaginatedList</code> interface. You can pass
this object to displaytag as an usual list, and it will extract
paging and sorting information from it. This way is more recommended
if you have to build your backend layer and you can easily follow
this pattern.</li>
<li>a second way, recommended if you only have to use partial list for
few tables that show a performance problem using full lists, is
passing all the needed parameters as separate tag attributes (recors
to be shown, page number, total number of records&#x2026;)</li>
</ul><section><a id="Using_the_Valuelist_pattern"></a>
<h3>Using the Valuelist pattern</h3>
<p>If the object passed to the displaytag as a list is in fact an instance
of <code>org.displaytag.pagination.PaginatedList</code> (and not a collection),
displaytag will assume that the list is externally sorted and paginated.
Implementing this interface is trivial, and an adapter over existing
classes can easily be written. See the
<code>org.displaytag.pagination.PaginatedList</code> javadocs for more details.</p>
<p>In order for the generated pagination and sort links to be
&#x201c;understandable&#x201d; by the application, they are not generated the same way
as for a traditional DisplayTag table. Indeed, since the table is
externally sorted and paginated, the application must be able to easily
get the sort and pagination parameters, without having to decode the
DisplayTag encoded parameters.</p>
<p>These sort and pagination links are generated based on additional
properties. These properties can be overridden using
&lt;display:setProperty/&gt;, in order to be able to have different sort of
page parameters in the application, or to have multiple tables in a
single HTML page.</p>
<p>If the default values of these properties are used, the href of the sort
links will look like this:</p>

<pre><code class="nohighlight nocode">  http://foo.bar.com/context/requestUri?sort=name&amp;dir=asc&amp;originalParameters=originalValues.
</code></pre>
<p>The href of the pagination links will look like this:</p>

<pre><code class="nohighlight nocode">  http://foo.bar.com/context/requestUri?sort=name&amp;dir=asc&amp;page=5&amp;originalParameters=originalValues
</code></pre></section><section><a id="Without_implementing_the_PaginatedList_interface"></a>
<h3>Without implementing the PaginatedList interface</h3><section><a id="External_sort"></a>
<h4>External sort</h4>

<pre><code class="nohighlight nocode">&lt;display:table name=&quot;testList&quot; sort=&quot;external&quot; defaultsort=&quot;1&quot; id=&quot;element&quot;&gt;
  &lt;display:column property=&quot;id&quot; title=&quot;ID&quot; sortable=&quot;true&quot; sortName=&quot;id&quot; /&gt;
  &lt;display:column property=&quot;firstName&quot; sortable=&quot;true&quot; sortName=&quot;firstName&quot; title=&quot;First Name&quot; /&gt;
  &lt;display:column property=&quot;lastName&quot; sortable=&quot;true&quot; sortName=&quot;lastName&quot; title=&quot;Last Name&quot; /&gt;
  &lt;display:column property=&quot;address&quot; sortable=&quot;true&quot; sortName=&quot;address&quot; title=&quot;Email Address&quot;/&gt;
&lt;/display:table&gt;
</code></pre>
<p>When using the <code>sort=&quot;external&quot;</code> property you are telling DisplayTag
that your list is already sorted according to some specific column
before the tag gets it. This is a must when used with partial lists as
we will see below, however you can use it by itself. A new property
named sortName has been addeed to the column tag. The purpose of this
property is for convenience when writing the backend code that actually
does the sorting of the data. For example the header link for the column
with property id in the sample code above will render a link containing
d-(encoded table id)-s=id. If you remove the sortName property from the
column the link will instead contain d-(encoded table id)-s=0, which is
the index of the column rather than the name. Once again it is solely
for convenience.</p>
<p>The first time you access a jsp with a DisplayTag in it, there are two
ways for the tag to know how your data is sorted. Firstly it will check
for a request parameter d-(encoded table id)-s. If that parameter
exists, and its value matches the sortName of one of the declared column
tags, then when it is rendered to html it will set the matching column
as being sorted. If that parameter does not exist it will examine the
defaultsort property of the table tag, if it exists then it will render
the corresponding column as sorted. Otherwise no column will be rendered
as being sorted. So really you have two options. Set your backend to
sort your data based on a set column when there is no request parameter,
and set your defaultsort parameter to match that column. Or ensure that
all links pointing to your page that houses the DisplayTag have a
d-(encoded table id)-s=(column index or sortName) parameter in them.</p>
<p>To determine the request parameter name for column sorting you can do:</p>

<pre><code class="nohighlight nocode">   new ParamEncoder(tableId).encodeParameterName(TableTagParameters.PARAMETER_SORT))
</code></pre>
<p>To get the order (ASC/DESC):</p>

<pre><code class="nohighlight nocode">   new ParamEncoder(tableId).encodeParameterName(TableTagParameters.PARAMETER_ORDER))
</code></pre>
<p>Descending is 2, Ascending is 1.</p></section><section><a id="External_Sorting_And_Paging_.28Partial_Lists.29"></a>
<h4>External Sorting And Paging (Partial Lists)</h4>

<pre><code class="nohighlight nocode">&lt;display:table name=&quot;testList&quot; sort=&quot;external&quot; defaultsort=&quot;1&quot; pagesize=&quot;20&quot; id=&quot;element&quot; partialList=&quot;true&quot; size=&quot;resultSize&quot;&gt;
  &lt;display:column property=&quot;id&quot; title=&quot;ID&quot; sortable=&quot;true&quot; sortName=&quot;id&quot; /&gt;
  &lt;display:column property=&quot;firstName&quot; sortable=&quot;true&quot; sortName=&quot;firstName&quot; title=&quot;First Name&quot; /&gt;
  &lt;display:column property=&quot;lastName&quot; sortable=&quot;true&quot; sortName=&quot;lastName&quot; title=&quot;Last Name&quot; /&gt;
  &lt;display:column property=&quot;address&quot; sortable=&quot;true&quot; sortName=&quot;address&quot; title=&quot;Email Address&quot;/&gt;
&lt;/display:table&gt;
</code></pre>
<p>All of the above information for external sorting applies to partial
lists. Additionally there are two new properties on the table tag:
partialList and size. To enable partial lists simply set
partialList=&#x201c;true&#x201d; on the table tag. Next you must tell Display Tag the
total size of your list since you are only making a specific subset of
it available to the tag. You do this by storing the total list size in a
java.lang.Integer object and putting it into some scope available to
DisplayTag. Then you set size=(name the Integer was stored under) on the
table tag. Very easy. It is also important that you specify a pagesize
on the table tag. It is also a good idea to set your backend to load a
default amount of your list when there are no request parameters,
probably the first page worth of data.</p>
<p>To determine the starting record you need to return based on the request
parameters provided via Display Tag you can do:</p>

<pre><code class="nohighlight nocode">   (Integer.parseInt(request.getParameter((new ParamEncoder(tableId).encodeParameterName(TableTagParameters.PARAMETER_PAGE)))) - 1) * pageSize.
</code></pre>
<p>To get the ending record just add pageSize to the above value.</p></section></section></section></section>        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2002–2026
<a href="http://sourceforge.net/projects/displaytag">the Displaytag team</a>
        <li id="publishDate" class="pull-right">Last Published: 01-31-2026 09:02</li>
          <li id="projectVersion" class="pull-right"><span class="divider">|</span>Version: 3.6.1-SNAPSHOT</li>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>
